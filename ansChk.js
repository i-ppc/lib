function disableScroll(){scrollTop=window.pageYOffset||document.documentElement.scrollTop,scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,window.onscroll=function(){window.scrollTo(scrollLeft,scrollTop)}}function enableScroll(){window.onscroll=function(){}}Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var l=t+1;l<e.length;++l)e[t]===e[l]&&e.splice(l--,1);return e},disableScroll();let allLinesCoordinate={};function resize_canvas(e){let t="",l="",i="",n="",s=0,a=0,o=0,r=0,d=0;for(currentLineHtmlId in e){t=document.getElementById(currentLineHtmlId),i=parseInt(document.getElementById("page_1").offsetWidth),n=parseInt(document.getElementById("page_1").offsetHeight),t.width=i,t.height=n,l=t.getContext("2d");let c=e[currentLineHtmlId];d=i/860*2,l.lineWidth=d,l.strokeStyle="red",l.beginPath();for(let e=1;e<=c.length;e+=4)s=c[e-1]/860*i,a=c[e-1+1]/1127*n,o=c[e-1+2]/860*i,r=c[e-1+3]/1127*n,l.moveTo(s,a),l.lineTo(o,r);l.stroke()}}function jumpAndVisible(e,t){let l=e,i="";if("string"!=typeof e?(e="#pf"+$(e.currentTarget).attr("data-attri1")+" .onoffcodeul a[data-innertext='"+$(e.currentTarget).attr("data-attri2")+"']",document.querySelectorAll(e).forEach(function(e){e.parentNode.style.visibility="visible",i=e.parentNode.getAttribute("data-gp")}),e=".pf .onoffcodeul.paper1 a[data-innertext='"+$(l.currentTarget).attr("data-attri2")+"']",document.querySelectorAll(e).forEach(function(e){e.parentNode.getAttribute("data-gp")==i&&(e.parentNode.style.visibility="visible")})):document.getElementById(document.getElementById(e).dataset.elementtobejumpedid).style.visibility="visible",void 0!==t){for(let e=0;e<t.length;e++)setTimeout(function(){document.getElementById(t[e]).style.visibility="visible"},300);setTimeout(function(){callRelationCheckItSelf(document.getElementById(l).firstElementChild.dataset.relationid.split(" "))},350)}else if("string"==typeof l)callRelationCheckItSelf(document.getElementById(l).firstElementChild.dataset.relationid.split(" "));else{let e=$(l.currentTarget).attr("data-elementtobejumpedid"),t=$(e).attr("data-showonoffstatusupdategroup"),i=".showonoffsp[data-gp='"+t+"'], .showonoffCode[data-gp='"+t+"']";callRelationCheckItSelf(document.querySelectorAll(i))}}function shareOnOff(e=""){var t=[];$(".onoffeye a[data-showonoffstatusupdategroup="+e+"]").each(function(e){let l=$(this).attr("data-targetelementids").split(" ")[0];"visible"==$("#"+l).css("visibility")?t.push(1):t.push(2)}),t.find(e=>e>1)>1?$("."+e).css("visibility","visible"):$("."+e).css("visibility","hidden")}function onoffMouseDown(e="",t){"string"!=typeof e&&(e=$(e.currentTarget.parentNode).attr("id"));let l,i,n=e.split(".")[0],s=document.getElementById(e),a=s&&s.childNodes.length>0?s.firstElementChild:null,o=a&&a.childNodes.length>0?a.firstElementChild:null,r=[];a?l=a.getAttribute("data-targetelementids").split(" "):s.getAttribute("data-targetelementids").split(" "),a?i=a.getAttribute("data-showonoffstatusupdategroup").split(" "):s.getAttribute("data-showonoffstatusupdategroup").split(" ");let d=!1;$("."+n).each(function(e,t){r.push($(this).attr("id"))}),l=l.concat(r).unique();s&&s.dataset.gp;switch(t){case 1:if(s.id.includes("onoffcodeul")){let e="";e="visible"==$("."+l[0]).css("visibility")?"hidden":"visible";for(let t=0;t<l.length;t++)try{l[t].includes("shareN")?$("."+l[t]).css("visibility","visible"):$("."+l[t]).css("visibility",e)}catch(e){}d=!0}else if(o.src.includes("A.png")){o.src=o.src.replace("A.png","B.png");for(let e=0;e<l.length;e++)try{if(""!=l[e]&&" "!=l[e])(c=document.getElementById(l[e]))&&(c.style.visibility="visible"),$("."+l[e]).css("visibility","visible"),$("#"+$(a).attr("data-standaloneid")).css("visibility","visible")}catch(e){}d=!0}else if(o.src.includes("B.png")){o.src=o.src.replace("B.png","A.png");for(let e=0;e<l.length;e++)try{if(document.getElementById(l[e]))(c=document.getElementById(l[e]))&&(document.getElementById(l[e]).style.visibility="hidden");$("."+l[e]).css("visibility","hidden")}catch(e){}d=!0}if(d){let e=a.dataset.triggeronoffstatusupdategroup.split(" ");1==e.length&&""==e[0]&&(e=[]);let t=a.dataset.showonoffstatusupdategroup.split(" ");1==t.length&&""==t[0]&&(t=[]);for(let t=0;t<e.length;t++)try{let l=document.getElementsByClassName(e[t]+"_Head");for(const e in l)if(l[e].parentNode){let t=l[e].parentNode.id;if(l[e]){triggeronoffMouseDown(t,2,l[e].dataset.style)}}}catch(e){}for(let e=0;e<t.length;e++)try{let l=document.getElementsByClassName(t[e]+"_Head");for(const e in l)if(l[e].parentNode){let t=l[e].parentNode.id;if(l[e]){showonoffMouseDown(t,2,l[e].dataset.style)}}}catch(e){}}break;case 2:if(s.id.includes("onoffcodeul"))for(let e=0;e<l.length;e++)try{$("."+l[e]).css("visibility","visible")}catch(e){}else if(o.src=o.src.replace("A.png","B.png"),l.length>0)for(let e=0;e<l.length;e++)try{if(document.getElementById(l[e]))(c=document.getElementById(l[e]))&&(c.style.visibility="visible"),$("."+l[e]).css("visibility","visible")}catch(e){}break;case 3:if(s.id.includes("onoffcodeul"))for(let e=0;e<l.length;e++)try{$("."+l[e]).css("visibility","hidden")}catch(e){}else if(o.src=o.src.replace("B.png","A.png"),l.length>0)for(let e=0;e<l.length;e++)try{var c;if(""!=l[e]||" "!=l[e])(c=document.getElementById(l[e]))&&(c.style.visibility="hidden"),""!=l[e]&&$("."+l[e]).css("visibility","hidden")}catch(e){}}if(i)for(let e=0;e<i.length;e++)if(""!=i[e]){var f=$("div[data-type=showHideAllAns][data-gp="+i[e]+"]").attr("id");console.log(f),f.includes("dfHideall")||shareOnOff(i[e])}}function callRelationCheckItSelf(e){if("Array"!=typeof e)$(e).each(function(e,t){var l="";if(t)if((l="string"==typeof t?t.match(/[|\\/~^:,.#;?!&%$@*+]/)?"#"+$(t).attr("id"):"#"+t:"#"+$(t).attr("id")).includes("showonoff")||l.includes("tcHideall")){if($(l)){let e=$(l)[0].firstElementChild.dataset.style;showonoffMouseDown($(l).attr("id"),2,e)}}else(l.includes("triggeronoff")||l.includes("dfHideall"))&&triggeronoffMouseDown($(l).attr("id"),2)});else for(let t=0;t<e.length;t++)if(""==!e[t])try{let l;l=e[t].match(/[|\\/~^:,.#;?!&%$@*+]/)?document.querySelectorAll(e[t]):document.querySelectorAll("#"+e[t]);for(let i=0;i<l.length;i++){if(null==l[i])throw"ERROR! in callRelationCheckItSelf(), can't find element id "+e[t];if(l[i].id.includes("showonoff")){let e=l[i].firstElementChild.dataset.style;showonoffMouseDown(l[i].id,2,e)}else l.id.includes("triggeronoff")&&triggeronoffMouseDown(l[i].id,2)}}catch(e){}}function triggeronoffMouseDown(e="",t){"string"!=typeof e&&(e=$(e.currentTarget.parentNode).attr("id"));let l=document.getElementById(e),i=l.firstElementChild,n=l.firstElementChild.firstElementChild,s=[];i.dataset.standaloneid&&(s=i.dataset.standaloneid.split(" "));i.dataset.triggeronoffstatusupdategroup.replace("_Head","");let a=l.dataset.gp,o=[];o=e.includes("tcHideall")?document.querySelectorAll('.onoffcodeul[data-gp="'+a+'"]'):e.includes("dfHideall")?document.querySelectorAll('.onoffcodeul[data-gp="'+a+'"],.onoffeye[data-gp="'+a+'"]'):document.querySelectorAll('.onoffeye[data-gp="'+a+'"]');let r=i.dataset.relationid.split(" "),d=!1;switch(t){case 1:if(n.src.includes("A.png")){n.src=n.src.replace("A.png","B.png");for(let e=0;e<o.length;e++)try{document.getElementById(o[e].id).style.visibility="visible",onoffMouseDown(o[e].id,2)}catch(e){}for(let e=0;e<s.length;e++)if(document.getElementById(s[e]))try{document.getElementById(s[e]).style.visibility="visible"}catch(e){}d=!0}else if(n.src.includes("B.png")){n.src=n.src.replace("B.png","A.png");for(let e=0;e<o.length;e++)try{o[e].id&&onoffMouseDown(o[e].id,3)}catch(e){}for(let e=0;e<s.length;e++)if(document.getElementById(s[e]))try{document.getElementById(s[e]).style.visibility="hidden"}catch(e){}d=!0}d&&callRelationCheckItSelf(r);break;case 2:let e=!0,l="",i="",a="";for(let t=0;t<o.length;t++)if((l=i=o[t]).id.includes("onoffcodeul")){let t;t=l.dataset.targetelementids?l.dataset.targetelementids.split(" "):(i=l.querySelector("a")).dataset.targetelementids.split(" ");for(let l=0;l<t.length;l++)if(document.getElementById(t[l])){if("hidden"==document.getElementById(t[l]).style.visibility){e=!1;break}}else if(document.getElementsByClassName(t[l]).length>0&&"hidden"==document.getElementsByClassName(t[l])[0].style.visibility){e=!1;break}}else if((a=i.querySelector("img")).src.includes("A.png")){e=!1;break}for(let t=0;t<s.length;t++)if(""!=s[t]&&(theDivElement=document.getElementById(s[t]),theDivElement))try{if("hidden"==theDivElement.style.visibility){e=!1;break}}catch(e){}n.src=e?n.src.replace("A.png","B.png"):n.src.replace("B.png","A.png")}}function showonoffMouseDown(e,t,l){"string"!=typeof e&&(e=$(e.currentTarget.parentNode).attr("id"));let i=document.getElementById(e),n="";"showHideCode"!=$("#"+e).attr("data-type")?n+=".showonoffsp[data-gp='"+$("#"+e).attr("data-gp")+"']":n+=".showonoffCode[data-gp='"+$("#"+e).attr("data-gp")+"']";let s=i&&i.childNodes.length>0?i.firstElementChild:null,a=s&&s.childNodes.length>0?s.firstElementChild:null,o=s&&s.getAttribute("data-standaloneid")?s.getAttribute("data-standaloneid").split(" "):[],r=(s&&(s.getAttribute("data-showonoffstatusupdategroup")&&s.getAttribute("data-showonoffstatusupdategroup").replace("_Head","")),i.dataset.gp);$('.highLight[data-gp="'+r+'"]').each(function(e){o.push($(this).attr("id"))}),targetElementsArray=document.querySelectorAll('.onoffcodeul[data-gp="'+r+'"]');let d=s?s.dataset.relationid.split(" "):[],c=!1;switch(t){case 1:$(n+" img").each(function(e){if((a=$(this)[0]).src.includes("A.png")){if(a.src=a.src.replace("A.png","B.png"),1==l)for(let e=0;e<targetElementsArray.length;e++)try{targetElementsArray[e].style.visibility="visible"}catch(e){}else if(2==l)for(let e=0;e<targetElementsArray.length;e++)try{targetElementsArray[e].style.visibility="visible",onoffMouseDown(targetElementsArray[e].id,2)}catch(e){}for(let e=0;e<o.length;e++)if(document.getElementById(o[e]))try{document.getElementById(o[e]).style.visibility="visible"}catch(e){}c=!0}else if(a.src.includes("B.png")){if(a.src=a.src.replace("B.png","A.png"),1==l)for(let e=0;e<targetElementsArray.length;e++)try{targetElementsArray[e].style.visibility="hidden",onoffMouseDown(targetElementsArray[e].id,3)}catch(e){}else if(2==l)for(let e=0;e<targetElementsArray.length;e++)try{onoffMouseDown(targetElementsArray[e].id,3)}catch(e){}for(let e=0;e<o.length;e++)if(""!=o[e])try{document.getElementById(o[e]).style.visibility="hidden"}catch(e){}c=!0}c&&callRelationCheckItSelf(d)});break;case 2:let e=!1,i=!1,s="",r="",f=0,g=0,u=[],h=0,y=0,m=0,p=0,b=0;for(let e=0;e<targetElementsArray.length;e++)"hidden"==(s=r=targetElementsArray[e]).style.visibility?g++:f++;if(2==l)for(let e=0;e<targetElementsArray.length;e++)if(targetElementsArray[e].firstElementChild.dataset.targetelementids){0!=(u=targetElementsArray[e].firstElementChild.dataset.targetelementids.split(" ")).length&&""!=u[0]||(u=[]),b+=u.length;for(let e=0;e<u.length;e++){let t=document.getElementsByClassName(u[e]);t[0]&&("hidden"==t[0].style.visibility?y++:h++)}}for(let e=0;e<o.length;e++)if(""!=o[e]){theDivElement=document.getElementById(o[e]);try{"hidden"==theDivElement.style.visibility?p++:m++}catch(e){}}if(1==o.length&&""==o[0]&&(o=[]),1==l){let t=g+p==targetElementsArray.length+o.length,l=f+m==targetElementsArray.length+o.length;t&&(i=!0),l&&(e=!0)}else if(2==l){let t=g+p==targetElementsArray.length+o.length,l=f>=1&&y>=1,n=f+m==targetElementsArray.length+o.length,s=h+m==b+o.length;t||l?i=!0:(n||s)&&(e=!0)}$(n+" img").each(function(t){a=$(this)[0],e?a.src=a.src.replace("A.png","B.png"):i&&(a.src=a.src.replace("B.png","A.png"))})}}